import{_ as a,c as n,a as s,o as i}from"./app-C4nCE3Qw.js";const l={};function t(o,e){return i(),n("div",null,e[0]||(e[0]=[s(`<h1 id="how-to-build-for-android" tabindex="-1"><a class="header-anchor" href="#how-to-build-for-android"><span>How to build for Android</span></a></h1><h2 id="install-tools" tabindex="-1"><a class="header-anchor" href="#install-tools"><span>Install tools</span></a></h2><ol><li><p>Get and install the <a href="https://www.oracle.com/java/technologies/downloads" target="_blank" rel="noopener noreferrer">Java Development Kit</a></p></li><li><p>Download the Android Studio/SDK <a href="https://developer.android.com/studio" target="_blank" rel="noopener noreferrer">command line tools</a> (scroll to the bottom to find packages with only the command line tools).</p></li><li><p>Unpack the command line tools, e.g. into <code>$HOME/cmdline-tools/latest</code></p></li><li><p>Add the <code>cmdline-tools</code>&#39;s parent folder to the environment variable <code>ANDROID_HOME</code>, and the <code>/bin</code>-folder to <code>PATH</code>:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># in .bashrc or similar</span></span>
<span class="line"><span class="token builtin class-name">export</span> <span class="token assign-left variable">ANDROID_HOME</span><span class="token operator">=</span><span class="token string">&quot;<span class="token environment constant">$HOME</span>/.android&quot;</span></span>
<span class="line"><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$ANDROID_HOME</span>/cmdline-tools/latest/bin:<span class="token environment constant">$PATH</span>&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Check for updates:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">sdkmanager <span class="token parameter variable">--update</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>Install build tools:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">sdkmanager <span class="token parameter variable">--install</span> <span class="token string">&quot;build-tools;34.0.0&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><h2 id="build-for-android" tabindex="-1"><a class="header-anchor" href="#build-for-android"><span>Build for Android</span></a></h2><ol><li><p>Clone the repo as described in <a href="/get-started/get-started">Get started</a></p></li><li><p>Navigate to <code>seedlingo/app</code></p></li><li><p>Run the build command</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">npm</span> run build:android</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>Find the final <code>.apk</code>-file in <code>android/app/build/outputs/apk/release/</code>.</p></li></ol><h2 id="troubleshooting" tabindex="-1"><a class="header-anchor" href="#troubleshooting"><span>Troubleshooting</span></a></h2><h3 id="must-have-java-jdk-installed" tabindex="-1"><a class="header-anchor" href="#must-have-java-jdk-installed"><span>Must have Java JDK installed</span></a></h3><p>Check with:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">javac <span class="token parameter variable">--version</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Install with:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"> <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> openjdk-21-jdk-headless</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="java-and-gradle-versions-must-sync" tabindex="-1"><a class="header-anchor" href="#java-and-gradle-versions-must-sync"><span>Java and gradle versions must sync</span></a></h3><p>Verify that <code>gradle</code> version is in sync with <code>java</code> version (see the <a href="https://docs.gradle.org/current/userguide/compatibility.html" target="_blank" rel="noopener noreferrer">Gradle Compatibility Matrix</a>).</p><p>Update <code>seedlingo/app/android/gradle/wrapper/gradle-wrapper.properties</code> accordingly, e.g. set <code>distributionUrl=https\\://services.gradle.org/distributions/gradle-8.7-all.zip</code> for <code>javac --version</code> -&gt; <code>21.0.4</code>:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># at [...]/seedlingo/app/android</span></span>
<span class="line">./gradlew wrapper --gradle-version <span class="token number">8.9</span></span>
<span class="line"><span class="token comment"># if successful, repeat</span></span>
<span class="line">./gradlew wrapper --gradle-version <span class="token number">8.9</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Running the command twice ensures that the updated version is working correctly on the second run.</p><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>The version of the Android Gradle plugin (AGP) and Gradle itself are not the same version number. Check compatibility at <a href="https://developer.android.com/build/releases/gradle-plugin#updating-gradle" target="_blank" rel="noopener noreferrer">Android Gradle Plugin &gt; Update Gradle</a></p></div><h2 id="optional-extras" tabindex="-1"><a class="header-anchor" href="#optional-extras"><span>Optional extras</span></a></h2><h3 id="sign-the-apk-bundle" tabindex="-1"><a class="header-anchor" href="#sign-the-apk-bundle"><span>Sign the .apk bundle</span></a></h3><ol><li>Add an <code>apksign.keystore</code> file (see the <a href="https://developer.android.com/studio/publish/app-signng" target="_blank" rel="noopener noreferrer">Android Studio documentation</a>) to <code>~/.android</code> and run the build command <code>npm run build:android</code> again.</li></ol><h3 id="splash-and-icons" tabindex="-1"><a class="header-anchor" href="#splash-and-icons"><span>Splash and icons</span></a></h3><ol><li><p>Update splash image and icons</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">npx cordova-res android --skip-config <span class="token parameter variable">--copy</span> --icon-source public/logo-m/apple-touch-icon-512x512.png --splash-source public/logo/splash.png --icon-foreground-source public/logo/icon-foreground.png --icon-background-source public/logo/icon-background.png\`</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>Edit <code>ic_launcher.xml</code> and <code>ic_launcher_round.xml</code>, swap <code>background</code>&#39;s <code>@color</code> to <code>@mipmap</code></p></li></ol>`,22)]))}const r=a(l,[["render",t],["__file","android-build.html.vue"]]),p=JSON.parse('{"path":"/android/android-build.html","title":"How to build for Android","lang":"en-US","frontmatter":{"description":"How to build for Android Install tools Get and install the Java Development Kit Download the Android Studio/SDK command line tools (scroll to the bottom to find packages with on...","head":[["meta",{"property":"og:url","content":"https://seedlingo.com/android/android-build.html"}],["meta",{"property":"og:site_name","content":"Seedlingo"}],["meta",{"property":"og:title","content":"How to build for Android"}],["meta",{"property":"og:description","content":"How to build for Android Install tools Get and install the Java Development Kit Download the Android Studio/SDK command line tools (scroll to the bottom to find packages with on..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-08-15T08:15:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-08-15T08:15:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"How to build for Android\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-08-15T08:15:00.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Install tools","slug":"install-tools","link":"#install-tools","children":[]},{"level":2,"title":"Build for Android","slug":"build-for-android","link":"#build-for-android","children":[]},{"level":2,"title":"Troubleshooting","slug":"troubleshooting","link":"#troubleshooting","children":[{"level":3,"title":"Must have Java JDK installed","slug":"must-have-java-jdk-installed","link":"#must-have-java-jdk-installed","children":[]},{"level":3,"title":"Java and gradle versions must sync","slug":"java-and-gradle-versions-must-sync","link":"#java-and-gradle-versions-must-sync","children":[]}]},{"level":2,"title":"Optional extras","slug":"optional-extras","link":"#optional-extras","children":[{"level":3,"title":"Sign the .apk bundle","slug":"sign-the-apk-bundle","link":"#sign-the-apk-bundle","children":[]},{"level":3,"title":"Splash and icons","slug":"splash-and-icons","link":"#splash-and-icons","children":[]}]}],"git":{"updatedTime":1723709700000,"contributors":[{"name":"toshify","email":"4579559+toshify@users.noreply.github.com","commits":5}]},"filePathRelative":"android/android-build.md","autoDesc":true}');export{r as comp,p as data};
