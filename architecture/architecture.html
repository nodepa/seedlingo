<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <meta property="og:url" content="https://seedlingo.com/architecture/architecture.html"><meta property="og:site_name" content="Seedlingo"><meta property="og:title" content="Architecture"><meta property="og:description" content="Architecture Seedlingo is built using the VueJS web framework to build a client-side single page application (SPA) with progressive web app (PWA) functionality. The web app is t..."><meta property="og:type" content="article"><meta property="og:locale" content="en-US"><meta property="og:updated_time" content="2024-04-15T12:36:07.000Z"><meta property="article:modified_time" content="2024-04-15T12:36:07.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Architecture","image":[""],"dateModified":"2024-04-15T12:36:07.000Z","author":[]}</script><link rel="icon" type="image/svg+xml" href="favicon/favicon.svg"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="favicon/apple-icon-180.png"><link rel="shortcut icon" href="/favicon.ico"><link rel="preconnect" href="https://DBU4PMHNAN-dsn.algolia.net" crossorigin=""><title>Architecture | Seedlingo</title><meta name="description" content="Architecture Seedlingo is built using the VueJS web framework to build a client-side single page application (SPA) with progressive web app (PWA) functionality. The web app is t...">
    <link rel="preload" href="/assets/style-Bvil5y_V.css" as="style"><link rel="stylesheet" href="/assets/style-Bvil5y_V.css">
    <link rel="modulepreload" href="/assets/app-C4nCE3Qw.js"><link rel="modulepreload" href="/assets/architecture.html-DVCwjy7P.js">
    <link rel="prefetch" href="/assets/index.html-C4rCoBHC.js" as="script"><link rel="prefetch" href="/assets/android-build.html-DXwAyIq6.js" as="script"><link rel="prefetch" href="/assets/android-compatibility.html-BfPbVCF6.js" as="script"><link rel="prefetch" href="/assets/content-spec.html-Do425olC.js" as="script"><link rel="prefetch" href="/assets/content-validation.html-DkxlrVZp.js" as="script"><link rel="prefetch" href="/assets/content.html-D94tN9Tv.js" as="script"><link rel="prefetch" href="/assets/replace-content.html-z42FMLjP.js" as="script"><link rel="prefetch" href="/assets/get-started.html-BKel25l9.js" as="script"><link rel="prefetch" href="/assets/privacy-policy.html-B78jE9zO.js" as="script"><link rel="prefetch" href="/assets/404.html-BilRIk3l.js" as="script"><link rel="prefetch" href="/assets/index-DCs6OeCW.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-CD2IDYdu.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="vp-site-logo" src="/images/seedlingo-logo-blue.svg" alt="Seedlingo"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Seedlingo</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="Home"><!---->Home<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://en.seedlingo.app" aria-label="Try Seedlingo" rel="noopener noreferrer" target="_blank"><!---->Try Seedlingo<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/content/content.html" aria-label="For teachers"><!---->For teachers<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/get-started/get-started.html" aria-label="For developers"><!---->For developers<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/nodepa/seedlingo" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="Toggle dark mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="Home"><!---->Home<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://en.seedlingo.app" aria-label="Try Seedlingo" rel="noopener noreferrer" target="_blank"><!---->Try Seedlingo<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/content/content.html" aria-label="For teachers"><!---->For teachers<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/get-started/get-started.html" aria-label="For developers"><!---->For developers<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/nodepa/seedlingo" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">For teachers <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/content/content.html" aria-label="Content"><!---->Content<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/content/replace-content.html" aria-label="Replace content"><!---->Replace content<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/content/content-spec.html" aria-label="Content specification"><!---->Content specification<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/content/content-validation.html" aria-label="Content validation"><!---->Content validation<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active">For developers <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/get-started/get-started.html" aria-label="Get started"><!---->Get started<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/android/android-build.html" aria-label="Android"><!---->Android<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/architecture/architecture.html" aria-label="Architecture"><!---->Architecture<!----></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content" vp-content><!--[--><!--]--><div><h1 id="architecture" tabindex="-1"><a class="header-anchor" href="#architecture"><span>Architecture</span></a></h1><p>Seedlingo is built using the <a href="https://vuejs.org" target="_blank" rel="noopener noreferrer">VueJS</a> web framework to build a client-side single page application (SPA) with progressive web app (PWA) functionality. The web app is then wrapped using <a href="https://ionicframework.com" target="_blank" rel="noopener noreferrer">Ionic Framework</a> and <a href="https://capacitorjs.com" target="_blank" rel="noopener noreferrer">Capacitor</a> to create a native Android app presenting Seedlingo fully offline in a WebView.</p><p>The main code entrypoint for Seedlingo is src/main.ts.</p><h2 id="src-main-ts" tabindex="-1"><a class="header-anchor" href="#src-main-ts"><span>src/main.ts</span></a></h2><p>Standard VueJS setup- and entrypoint.</p><p>Mounts App.vue inside the public/index.html&#39;s <code>&lt;div id=&quot;app&quot; /&gt;</code> with <code>app.mount(&#39;#app&#39;)</code>.</p><h2 id="src-app-vue" tabindex="-1"><a class="header-anchor" href="#src-app-vue"><span>src/App.vue</span></a></h2><p>Lays out the <code>AppHeader</code> section with logo and title, <code>BottomNavigationBar</code> in the footer containing <code>HomeButton</code>, <code>ContinueButton</code> and <code>ToggleInstructionsButton</code>, and an <code>ion-content</code> section that is handled by the router (<code>ion-router-outlet</code>). src/common/router/index.ts lists all routes and defines src/views/HomeView.vue as the base route.</p><h2 id="src-views-homeview-vue" tabindex="-1"><a class="header-anchor" href="#src-views-homeview-vue"><span>src/views/HomeView.vue</span></a></h2><p>Displays src/UnitsMenu/components/UnitsMenu.vue and src/FooterLinks/components/FooterLinks.vue</p><h2 id="src-unitsmenu-components-unitsmenu-vue" tabindex="-1"><a class="header-anchor" href="#src-unitsmenu-components-unitsmenu-vue"><span>src/UnitsMenu/components/UnitsMenu.vue</span></a></h2><p>Lists all the units as specified in the content folder using <code>Content.UnitsMeta</code>, which returns an array of objects with name, icon and audio for each unit. Each unit is wired with a <code>router-link</code> of the pattern <code>/unit/:id</code>, e.g. /unit/4 directs links of that pattern to src/views/ExerciseSession.vue</p><h2 id="src-views-exercisesession-vue" tabindex="-1"><a class="header-anchor" href="#src-views-exercisesession-vue"><span>src/views/ExerciseSession.vue</span></a></h2><p><code>ExerciseSession</code> presents one of the exercise components MatchingExercise.vue, MultipleChoiceExercise.vue, ClozeExercise.vue or ComprehensionExercise.vue based on the <code>exercise</code>/<code>exerciseItems</code> generated by src/Units/ExerciseProvider.ts. When <code>ExerciseSession</code> is made available in the page/mounted, <code>getExercise()</code> is used to identify the correct unit specified by the <code>/unit/:id</code> route param in the browser&#39;s address bar. The number from the path is taken to represent the current unit number, and <code>ExerciseProvider.getExerciseFromUnit(index)</code> is asked to generate an exercise from that unit.</p><h2 id="src-content-exerciseprovider-ts" tabindex="-1"><a class="header-anchor" href="#src-content-exerciseprovider-ts"><span>src/Content/ExerciseProvider.ts</span></a></h2><p><code>getExerciseFromUnit(index)</code> uses <code>Content.UnitSpec</code> to get all units and verify that the requested unit exists, then generates an exercise of random type from the unit using <code>GenerateExerciseOfType[ExerciseType].bind(this)(unit)</code> (where ExerciseType is randomly picked from types available in the unit), which executes the relevant <code>generate[Matching|MultipleChoice|ExplanationMatching|ExplanationMultipleChoice|SingleCloze|MultiCloze|Comprehension]Exercise(unit)</code>. I.e. for <code>generateMultipleChoiceExercise</code>, a random exercise specification from the unit is selected, then 4 random word references from that exercise are selected, then the actual word specifications referenced are fetched, before <code>createMultipleChoiceExerciseFromWords(selectedWords)</code> is called, generating four presentable word-objects from the four words. Then one of the four words are selected randomly to be the correct option and the exercise object is expanded to account for that. The correct option&#39;s symbol(i.e. icon) is fetched from the passed in unit data and stored for display as <code>iconToMatch</code>. The <code>exercise</code> object is returned to <code>ExerciseSession</code>, and <code>ExerciseSession</code> sets its dynamic component according to the exercise type from <code>ExerciseProvider</code>, and passes the exercise object along to e.g. <code>MultipleChoiceExercise.vue</code> as a prop (<code>exercise-prop</code>).</p><h2 id="src-multiplechoice-components-multiplechoiceexercise-vue" tabindex="-1"><a class="header-anchor" href="#src-multiplechoice-components-multiplechoiceexercise-vue"><span>src/MultipleChoice/components/MultipleChoiceExercise.vue</span></a></h2><p><code>MultipleChoiceSession</code> takes the <code>exerciseProp</code> and wires up the correct option&#39;s audio to auto-play on page-load (<code>onMounted)</code> or re-load (through <code>watch()</code>). In the <code>&lt;template&gt;</code>, the first <code>&lt;ion-row&gt;</code> contains an <code>ExerciseButton</code> (custom <code>ion-button</code>) that displays the correct option&#39;s icon using an <code>&lt;ion-icon&gt;</code> element. The second <code>&lt;ion-row&gt;</code> displays (by text) the 4 words that may match the icon and pronunciation of the audio.</p><h2 id="src-content-content-ts" tabindex="-1"><a class="header-anchor" href="#src-content-content-ts"><span>src/Content/Content.ts</span></a></h2><p>Content starts off by importing some content related data types, icons wrapped in javascript, then all the .mp3.audio files in the content folder, then all the .json files in the content folder.</p><p><code>Content.ContentSpec</code> holds ContentSpec.json extracted from the collection of imported .json-files.</p><p><code>Content.WordListSpec</code> holds the <code>wordSpecFile</code> specified in ContentSpec.json.</p><p><code>Content.getWord()</code> fetches one specified word object from the <code>wordListSpec</code>.</p><p><code>Content.UnitsMeta</code> holds a generated collection of objects necessary to populate the home page menu of units, and also used for basic review of all new words in a unit.</p><p><code>Content.UnitSpecs</code> extracts all the .json-files specified as <code>unitSpecFile</code> in ContentSpec.json.</p><p><code>Content.getAudioPath()</code> returns an audio object that can be inlined in the html as an audio element&#39;s src. A specific audio file&#39;s data is extracted from the collection of &#39;.mp3.audio&#39; files imported earlier.</p><h2 id="content-contentspec-json" tabindex="-1"><a class="header-anchor" href="#content-contentspec-json"><span>content/ContentSpec.json</span></a></h2><p>The content is configured through the content-folder&#39;s ContentSpec.json. A full specification is found in the <a class="route-link" href="/content/content-spec.html">content specification</a>. Basically, ContentSpec.json specifies where to find the top-level instructions audio files, all the unit specification files, and the word specification file. The content/Unit??.json files contain specifications of units as collections of exercises. Data file sources (audio, pictures) are generally specified in the <code>wordSpecFile</code>, but explanation exercises also specify audio/picture/video/symbol for the explanation itself.</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/nodepa/seedlingo/edit/main/docs/architecture/architecture.md" aria-label="Edit this page" rel="noopener noreferrer" target="_blank"><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->Edit this page<!----></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 4579559+toshify@users.noreply.github.com">toshify</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/android/android-build.html" aria-label="Android"><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>Android</span></div></a><!----></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-C4nCE3Qw.js" defer></script>
  </body>
</html>
